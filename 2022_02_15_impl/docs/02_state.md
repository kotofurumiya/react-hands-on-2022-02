# ステート管理

小規模アプリではステートを直接的に管理することは少ない。
一般的にはURLに対するリクエストとレスポンスの管理ができれば十分だ。

SWRやreact-queryといったライブラリはまさにこの発想から生まれている。
URLをキーにレスポンスをキャッシュし、同時リクエストや高頻度のリクエストを抑制する。

SWRではuseSWRというhookを使う。第1引数をキーに、第2引数の関数を実行する。

```ts
const { data, error } = useSWR<{ posts: Post[] }>(
  `${config.apiHost}/user/${userId}/post/list`,
  jsonFetcher
);
```

キーが同じであれば同じレスポンスが得られるので、過剰にリクエストが飛んでいくことは基本的にない。